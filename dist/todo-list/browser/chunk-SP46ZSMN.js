import{b as P,c as T}from"./chunk-VVWRIGYF.js";import{E as D,b as L,d as S,g as M,m as b,o as k,p as I,z as E}from"./chunk-2MMHW37T.js";import{Cb as y,Db as C,Fa as l,G as f,Ja as u,Ka as c,La as g,Na as v,Oa as _,Z as a,_ as p,ja as w,oa as e,pa as t,qa as d,va as m}from"./chunk-KHXPU5IE.js";var B=()=>["/register"],W=class h{constructor(r,o){this.authService=r;this.router=o}email="";password="";hidePassword=!0;togglePasswordVisibility(){this.hidePassword=!this.hidePassword}onLogin(){if(!this.email||!this.password){alert("Please fill in all required fields");return}console.log("Logging in with:",this.email,this.password),this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/main"]).then(()=>{window.location.reload(),this.clearInputs()})}).catch(r=>{alert("Login failed: "+r.message),this.clearInputs()})}clearInputs(){this.email="",this.password=""}static \u0275fac=function(o){return new(o||h)(p(D),p(y))};static \u0275cmp=f({type:h,selectors:[["app-login"]],standalone:!0,features:[v],decls:18,vars:4,consts:[[1,"login-container"],[1,"login-card"],[1,"title"],[1,"subtitle"],[1,"create-now",3,"routerLink"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-envelope"],["type","text","pInputText","","placeholder","Email",1,"input-field",3,"ngModelChange","ngModel"],[1,"pi","pi-lock"],["placeholder","Password","pInputText","",1,"input-field",3,"ngModelChange","ngModel"],["pButton","","type","button","icon","pi pi-eye",1,"toggle-password-button",3,"click"],["pButton","","type","button","label","Login",1,"login-button",3,"click"]],template:function(o,i){o&1&&(e(0,"div",0)(1,"div",1)(2,"h2",2),l(3,"Login"),t(),e(4,"p",3),l(5," Don't have an account? "),e(6,"a",4),l(7,"Create Now"),t()(),e(8,"div",5)(9,"span",6),d(10,"i",7),t(),e(11,"input",8),g("ngModelChange",function(n){return c(i.email,n)||(i.email=n),n}),t()(),e(12,"div",5)(13,"span",6),d(14,"i",9),t(),e(15,"input",10),g("ngModelChange",function(n){return c(i.password,n)||(i.password=n),n}),t(),e(16,"button",11),m("click",function(){return i.togglePasswordVisibility()}),t()(),e(17,"button",12),m("click",function(){return i.onLogin()}),t()()()),o&2&&(a(6),w("routerLink",_(3,B)),a(5),u("ngModel",i.email),a(4),u("ngModel",i.password))},dependencies:[I,k,P,E,T,b,L,S,M,C]})};export{W as LoginComponent};
