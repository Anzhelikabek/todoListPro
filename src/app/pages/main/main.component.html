<div class="container">
    <!-- Loading Spinner -->
    <p-progressSpinner *ngIf="isLoading" styleClass="spinner"></p-progressSpinner>

    <div class="p-field">
        <div class="grid">
            <div class="col-12">
                <div class="header-content">
                    <h1>{{'greeting' | translate}}, {{ userName }}!</h1>
                    <div class="buttons">
                        <div class="custom-dropdown">
                            <p-dropdown
                                    [options]="languages"
                                    [(ngModel)]="selectedLanguage"
                                    optionLabel="label"
                                    placeholder="Выберите язык"
                                    [ngStyle]="{'width': '100%'}"
                                    (onChange)="onLanguageChange($event.value)">
                            </p-dropdown>
                        </div>
                        <p-button
                                icon="pi pi-moon"
                                pTooltip="{{ 'switchTheme' | translate }}"
                                tooltipPosition="bottom"
                                (click)="toggleTheme()">
                        </p-button>

                        <p-button
                                icon="pi pi-file-excel"
                                pTooltip="{{ 'exportToExcel' | translate }}"
                                tooltipPosition="bottom"
                                (click)="exportToExcel()">
                        </p-button>

                        <p-button
                                icon="pi pi-sign-out"
                                pTooltip="{{ 'logOut' | translate }}"
                                tooltipPosition="bottom"
                                class="logout-button"
                                (click)="onLogout()">
                        </p-button>
                        <p-button
                                type="button"
                                class="sidebar"
                                (onClick)="sidebarVisible2 = true"
                                icon="pi pi-arrow-left"/>
                    </div>
                </div>
                <p-tabView>
                    <p-tabPanel [header]="'myTasks' | translate">
                        <app-todos/>
                    </p-tabPanel>
                    <p-tabPanel [header]="'users' | translate">
                        <app-users/>
                    </p-tabPanel>
                    <p-tabPanel [header]="'tasksUsers' | translate">
                        <app-users-tasks/>
                    </p-tabPanel>
                    <p-tabPanel [header]="'userAnalytics' | translate">
                        <app-dashboard/>
                    </p-tabPanel>
                    <p-tabPanel [header]="'eventsCalendar' | translate">
                        <app-calendar/>
                    </p-tabPanel>
                </p-tabView>
            </div>
        </div>
    </div>
</div>
